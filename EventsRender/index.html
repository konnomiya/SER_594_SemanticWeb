<!DOCTYPE html>
<html lang="US_en">

<head>
    <meta charset="UTF-8">
    <title>SSD Automation</title>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-route/angular-route.min.js"></script>
    <!-- custom css file -->
    <link rel="stylesheet" type="text/css" href="styles.css">
    <!-- ng-table -->
    <script type="text/javascript" src="lib/ng-table/ng-table.min.js"></script>
    <link rel="stylesheet" type="text/css" href="lib/ng-table/ng-table.min.css">
</head>

<body ng-app="myApp" ng-controller="myCtrl">

<div class="container">
    <h2 align="center"><b>EasyMusic</b></h2>

    <div id="myCarousel" class="carousel slide" data-ride="carousel">

        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item active">
                <img src='image1.jpg' style="width: 100%; height: 100%;">
                <div class="carousel-caption">
                    <h3>EasyMusic</h3>
                    <p> A semantic web recommendation portal to suggest events based on user favourites</p>
                </div>
            </div>

            <div class="item">
                <img src='image2.jpg' style="width: 100%; height: 100%;">
                <div class="carousel-caption">
                    <h3>Spotify and GoogleMaps</h3>
                    <p>Login using Spotify credentials</p>
                </div>
            </div>

            <div class="item">
                <img src='image3.jpg' style = "width: 100%; height: 100%;">
                <div class="carousel-caption">
                    <h3>TicketMaster and EventFul</h3>
                    <p> Events based on user's location with a given radius and favourite artists </p>
                </div>
            </div>
        </div>

        <!-- Left and right controls -->

        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>



    <div class="row" style="padding-top: 50px;  ">

        <div class = "col-xs-12 col-md-7" align="bottom">User logs on to Spotify account <br />
            API call is made to Spotify Web API to get user details, authorization URL, and user followed artists <br />
            User’s location (latitude, longitude) is stored <br />
            For every artist, SPARQL query is run to retrieve events belonging to that artist (EventFull and TicketMaster APIs) <br />
            Events are filtered based on user’s location and user input radius <br />
        </div>
        <input type="loginSpotifyButton" class="btn btn-success col-xs-12 col-md-3 pull-right" value="Login Using Spotify" ng-click="check()">

    </div>
</div>
    
</body>

<script>

	var app =  angular.module('myApp', []);
	
	app.controller('myCtrl', function($scope, $http){
	
		$scope.check = function()
		{
			 var req = {
            method: 'GET',
            url: 'http://localhost:8080/home'
        }
		
		

        $http(req).then(function(response) {
                console.log(response.data);
				window.open(response.data.value);
                
            },
            function(error) {
                alert(error.data.message);
            });
		}
		
	});

</script>