<!DOCTYPE html>
<html lang="US_en">

<head>
    <meta charset="UTF-8">
    <title>SSD Automation</title>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-route/angular-route.min.js"></script>
    <!-- custom css file -->
    <link rel="stylesheet" type="text/css" href="events.css">
	<link rel="stylesheet" type="text/css" href="styles.css">
    <!-- ng-table -->
    <script type="text/javascript" src="lib/ng-table/ng-table.min.js"></script>
    <link rel="stylesheet" type="text/css" href="lib/ng-table/ng-table.min.css">
</head>

<body ng-app="myApp1" ng-controller="myCtrl1">

<div class="container">
    <div class="panel-group" id="accordion" >
		<div ng-repeat = "event in allEvents">
			<div class="panel panel-default" >
					<div class="panel-heading"  >
						<h4 class="panel-title" >
								<div class="row" >
									<!--Displays Event name-->
									<div class="col-sm-4">
										<b><div type="text" ng-bind="event[0].substr(10)"></div></b>
									</div>
									<div class="col-sm-4"  type="text" ng-bind="event[4].substr(9)"></div>
									<div class="col-sm-4"  type="text" ng-bind="event[2].substr(8)">
										
									</div>
								</div>
						</h4> <!--panel title ends here-->
					</div><!--panel heading ends here-->	
					<div class="panel-body">
							<div class="row">
								<div class="col-sm-8">
									<b>Event Info</b> <br/>
									There is a 4 ticket limit for the Verified Fan Presale and early VIP packages. There is a 6
									ticket limit for the VIP Packages. There is an 8 ticket limit for the public onsale.<br/>
									<br/><b>Artist</b> <br/> <p type="text" ng-bind="event[3].substr(12)">
								</div>
								<div class="col-sm-2"></div>
								<div class="col-sm-2">
									<a type="button" class="btn btn-info"
									   href="event[1].substr(9)">Find
										Tickets</a><br/><br/>
									<button type="button" class="btn btn-info " onclick="">Find Venue</button>
								</div>
							</div>
					</div><!--panel body ends here-->
			</div><!--event panel ends here-->
        </div><!--for every event, ends here-->
    </div> <!--Panel group ends here-->     
</div><!--container div ends here-->

	
<!--Pagination starts here-->
    <div class="row" align="bottom">
        <div class="col-sm-4"></div>
        <div class="col-sm-4">
            <ul class="pagination">
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">6</a></li>
                <li><a href="#">7</a></li>
                <li><a href="#">8</a></li>
                <li><a href="#">9</a></li>
                <li><a href="#">10</a></li>
            </ul>
        </div>
        <div class="col-sm-4"></div>
    </div>
<!--Pagination ends here-->

</div>
    
</body>

<script>
	//initializing the application
	
		var all_events_array = [];
		test();
	
				function test(){
				
					var eventsjson = {
					"head": {
					"vars": ["EventName", "eventurl", "address", "eventArtist", "datetime", "lat", "long", "city", "state", "country", "postalcodewhere"]
					},
					"results": {
					"bindings": [
					{
						"EventName": {"type": "literal", "value": "abc event 1"},
						"eventurl": {
                        "type": "literal",
                        "value": "http://eventful.com/northampton_ma/events/darlingside-/E0-001-108778197-3?utm_source=apis&utm_medium=apim&utm_campaign=apic"
                    },
                    "address": {"type": "literal", "value": "274 Main Street"},
                    "eventArtist": {"type": "literal", "value": "Fifth Harmony"},
                    "datetime": {"type": "literal", "value": "2018-03-24 19:30:00"},
                    "lat": {"type": "literal", "value": "35.67"},
                    "long": {"type": "literal", "value": "139.77"},
                    "city": {"type": "literal", "value": "Northampton"},
                    "state": {"type": "literal", "value": "Massachusetts"}
                },
                {
                    "EventName": {"type": "literal", "value": "abc event 2"},
                    "eventurl": {
                        "type": "literal",
                        "value": "http://eventful.com/northampton_ma/events/darlingside-/E0-001-108778197-3?utm_source=apis&utm_medium=apim&utm_campaign=apic"
                    },
                    "address": {"type": "literal", "value": "274 Main Street"},
                    "eventArtist": {"type": "literal", "value": "Fifth Harmony"},
                    "datetime": {"type": "literal", "value": "2018-03-24 19:30:00"},
                    "lat": {"type": "literal", "value": "35.67"},
                    "long": {"type": "literal", "value": "139.77"},
                    "city": {"type": "literal", "value": "Northampton"},
                    "state": {"type": "literal", "value": "Tokyo"}
                }
            ]
        }
    };

					var results = eventsjson["results"]["bindings"];
					var results = eventsjson.results.bindings;//code to parse events json response
				    for ( var i=0; i < results.length; i++){
				        var results_obj = results[i];
				        var event_array = [];
				        for (var key in results_obj){

				            var attName = key;
				            var attType = results_obj[key]["type"];
				            var attValue = results_obj[key]["value"];
				            event_array.push(attName + ": " + attValue);
				        }
				        all_events_array.push(event_array);
						
				    }//for loop ends here
					
				    
					}
		var app =  angular.module('myApp1', []);
		app.controller('myCtrl1', function($scope){

		$scope.allEvents = all_events_array;
		
		
		
		});
		
		
</script>